// ponymark@v3.1.0, MIT licensed. https://github.com/bevacqua/ponymark
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ponymark=e()}}(function(){return function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,t){function n(){}var o=t.exports={};o.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var o=n.shift();o()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=n,o.addListener=n,o.once=n,o.off=n,o.removeListener=n,o.removeAllListeners=n,o.emit=n,o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,t){t.exports=e("./src/contra.emitter.js")},{"./src/contra.emitter.js":3}],3:[function(e,t){(function(e){!function(n,o){"use strict";function r(e,t){return Array.prototype.slice.call(e,t)}function i(e,t,n){e&&s(function(){e.apply(n||null,t||[])})}function a(e,t){var n=t||{},a={};return e===o&&(e={}),e.on=function(t,n){return a[t]?a[t].push(n):a[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var o=arguments.length;if(1===o)delete a[t];else if(0===o)a={};else{var r=a[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=this,o=r(arguments),s=o.shift(),c=a[s];if("error"===s&&n.throws!==!1&&!c)throw 1===o.length?o[0]:o;return c?(a[s]=c.filter(function(e){return n.async?i(e,o,t):e.apply(t,o),!e._once}),e):e},e}var s,c=""+o,l="function"==typeof setImmediate;s=l?function(e){setImmediate(e)}:typeof e!==c&&e.nextTick?e.nextTick:function(e){setTimeout(e,0)},typeof t!==c&&t.exports?t.exports=a:(n.contra=n.contra||{},n.contra.emitter=a)}(this)}).call(this,e("FWaASH"))},{FWaASH:1}],4:[function(e,t){for(var n=e("performance-now"),o="undefined"==typeof window?{}:window,r=["moz","webkit"],i="AnimationFrame",a=o["request"+i],s=o["cancel"+i]||o["cancelRequest"+i],c=!0,l=0;l<r.length&&!a;l++)a=o[r[l]+"Request"+i],s=o[r[l]+"Cancel"+i]||o[r[l]+"CancelRequest"+i];if(!a||!s){c=!1;var u=0,p=0,d=[],f=1e3/60;a=function(e){if(0===d.length){var t=n(),o=Math.max(0,f-(t-u));u=o+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(n){setTimeout(function(){throw n},0)}},Math.round(o))}return d.push({handle:++p,callback:e,cancelled:!1}),p},s=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}t.exports=function(e){return c?a.call(o,function(){try{e.apply(this,arguments)}catch(t){setTimeout(function(){throw t},0)}}):a.call(o,e)},t.exports.cancel=function(){s.apply(o,arguments)}},{"performance-now":5}],5:[function(e,t){(function(e){(function(){var n,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-r)/1e6},o=e.hrtime,n=function(){var e;return e=o(),1e9*e[0]+e[1]},r=n()):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,e("FWaASH"))},{FWaASH:1}],6:[function(e,t){function n(e,t){function n(){4===m.readyState&&T()}function r(){var e=null;if(m.response?e=m.response:"text"!==m.responseType&&m.responseType||(e=m.responseText||m.responseXML),x)try{e=JSON.parse(e)}catch(t){}return e}function u(){return 1223===m.status?204:m.status}function p(e){var t=null;if(0===e||e>=400&&600>e){var n=("string"==typeof y?y:!1)||s[String(e).charAt(0)];t=new Error(n),t.statusCode=e}return t}function d(){var e=u(),n=p(e),o={body:r(),statusCode:e,statusText:m.statusText,raw:m};o.headers=m.getAllResponseHeaders?a(m.getAllResponseHeaders()):{},t(n,o,o.body)}function f(){var e=u(),n=p(e);m.status=m.statusCode=e,m.body=r(),m.headers=a(m.getAllResponseHeaders()),t(n,m,m.body)}function g(e){t(e,m)}"string"==typeof e&&(e={uri:e}),e=e||{},t=i(t);var m=e.xhr||null;m||(m=e.cors||e.useXDR?new l:new c);var h,v=m.url=e.uri||e.url,w=m.method=e.method||"GET",y=e.body||e.data,k=m.headers=e.headers||{},b=!!e.sync,x=!1,T=e.response?d:f;if("json"in e&&(x=!0,k.Accept="application/json","GET"!==w&&"HEAD"!==w&&(k["Content-Type"]="application/json",y=JSON.stringify(e.json))),m.onreadystatechange=n,m.onload=T,m.onerror=g,m.onprogress=function(){},m.ontimeout=o,m.open(w,v,!b),(e.withCredentials||e.cors&&e.withCredentials!==!1)&&(m.withCredentials=!0),b||(m.timeout="timeout"in e?e.timeout:5e3),m.setRequestHeader)for(h in k)k.hasOwnProperty(h)&&m.setRequestHeader(h,k[h]);else if(e.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(m.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(m),m.send(y),m}function o(){}var r=e("global/window"),i=e("once"),a=e("parse-headers"),s={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},c=r.XMLHttpRequest||o,l="withCredentials"in new c?c:r.XDomainRequest;t.exports=n},{"global/window":7,once:8,"parse-headers":12}],7:[function(e,t){(function(e){t.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t){function n(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],9:[function(e,t){function n(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?o(e,t,n):"string"==typeof e?r(e,t,n):i(e,t,n)}function o(e,t,n){for(var o=0,r=e.length;r>o;o++)c.call(e,o)&&t.call(n,e[o],o,e)}function r(e,t,n){for(var o=0,r=e.length;r>o;o++)t.call(n,e.charAt(o),o,e)}function i(e,t,n){for(var o in e)c.call(e,o)&&t.call(n,e[o],o,e)}var a=e("is-function");t.exports=n;var s=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":10}],10:[function(e,t){function n(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=n;var o=Object.prototype.toString},{}],11:[function(e,t,n){function o(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=o,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],12:[function(e,t){var n=e("trim"),o=e("for-each"),r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return o(n(e).split("\n"),function(e){var o=e.indexOf(":"),i=n(e.slice(0,o)).toLowerCase(),a=n(e.slice(o+1));"undefined"==typeof t[i]?t[i]=a:r(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":9,trim:11}],13:[function(e,t){"use strict";function n(){}var o=e("./ua"),r=e("./util"),i=RegExp;n.prototype.findTags=function(e,t){function n(e){return a.startTag=a.startTag+e,""}function o(e){return a.endTag=e+a.endTag,""}var i,a=this;e&&(i=r.extendRegExp(e,"","$"),this.before=this.before.replace(i,n),i=r.extendRegExp(e,"^",""),this.selection=this.selection.replace(i,n)),t&&(i=r.extendRegExp(t,"","$"),this.selection=this.selection.replace(i,o),i=r.extendRegExp(t,"^",""),this.after=this.after.replace(i,o))},n.prototype.trimWhitespace=function(e){var t,n,o=this;e?t=n="":(t=function(e){return o.before+=e,""},n=function(e){return o.after=e+o.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},n.prototype.skipLines=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var r,a;if(o.isChrome&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+i.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+i.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+i.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+i.$1,this.before){for(r=a="";e--;)r+="\\n?",a+="\n";n&&(r="\\n*"),this.before=this.before.replace(new i(r+"$",""),a)}if(this.after){for(r=a="";t--;)r+="\\n?",a+="\n";n&&(r="\\n*"),this.after=this.after.replace(new i(r,""),a)}},t.exports=n},{"./ua":30,"./util":32}],14:[function(e,t){"use strict";function n(e){this.getString=e}function o(e){function t(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t}return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,t)}var r=e("./ui"),i={lineLength:72},a=RegExp,s=n.prototype;s.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",s.unwrap=function(e){var t=new a("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},s.wrap=function(e,t){this.unwrap(e);var n=new a("(.{1,"+t+"})( +|$\\n?)","gm"),o=this;e.selection=e.selection.replace(n,function(e,t){return new a("^"+o.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},s.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))},s.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))},s.doBorI=function(e,t,n,o){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var r=/(\**$)/.exec(e.before)[0],i=/(^\**)/.exec(e.after)[0],s=Math.min(r.length,i.length);if(s>=n&&(2!=s||1!=n))e.before=e.before.replace(a("[*]{"+n+"}$",""),""),e.after=e.after.replace(a("^[*]{"+n+"}",""),"");else if(!e.selection&&i){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var c=a.$1;e.before=e.before+i+c}else{e.selection||i||(e.selection=o);var l=1>=n?"*":"**";e.before=e.before+l,e.after=l+e.after}},s.stripLinkDefs=function(e,t){function n(e,n,o,r,i){return t[n]=e.replace(/\s*$/,""),r?(t[n]=e.replace(/["(](.+?)[")]$/,""),r+i):""}var o=/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm;return e.replace(o,n)},s.addLinkDef=function(e,t){function n(e){r++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+r+"]:"),a+="\n"+e}function o(e,t,a,c,l,u){return a=a.replace(s,o),i[l]?(n(i[l]),t+a+c+r+u):e}var r=0,i={};e.before=this.stripLinkDefs(e.before,i),e.selection=this.stripLinkDefs(e.selection,i),e.after=this.stripLinkDefs(e.after,i);var a="",s=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g;e.before=e.before.replace(s,o),t?n(t):e.selection=e.selection.replace(s,o);var c=r;return e.after=e.after.replace(s,o),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+a,c},s.doLinkOrImage=function(e,t,n){function i(r){if(null!==r){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var i=" [999]: "+o(r),s=a.addLinkDef(e,i);e.startTag=n?"![":"[",e.endTag="]["+s+"]",e.selection||(e.selection=n?a.getString("imagedescription"):a.getString("linkdescription"))}t()}var a=this;return e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/),e.endTag.length>1&&e.startTag.length>0?(e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null),void 0):(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection)?(this.addLinkDef(e,null),void 0):(n?r.prompt("image",i):r.prompt("link",i),!0))},s.doAutoindent=function(e){var t=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&t.doList&&t.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&t.doBlockquote&&t.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&t.doCode&&t.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},s.doBlockquote=function(e){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,o,r){return e.before+=n,e.after=r+e.after,o}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||this.getString("quoteexample");var t,n="",o="";if(e.before){for(var r=e.before.replace(/\n$/,"").split("\n"),a=!1,s=0;s<r.length;s++){var c=!1;t=r[s],a=a&&t.length>0,/^>/.test(t)?(c=!0,!a&&t.length>1&&(a=!0)):c=/^[ \t]*$/.test(t)?!0:a,c?n+=t+"\n":(o+=n+t,n="\n")}/(^|\n)>/.test(n)||(o+=n,n="")}e.startTag=n,e.before=o,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var l=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,i.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),l(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),l(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},s.doCode=function(e){var t=/\S[ ]*$/.test(e.before),n=/^[ ]*\S/.test(e.after);if(!n&&!t||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var o=1,r=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(o=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(r=0),e.skipLines(o,r),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(e.startTag="    ",e.selection=this.getString("codeexample"))}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=this.getString("codeexample")))},s.doList=function(e,t,n){function o(){var e;return n?(e=" "+u+". ",u++):e=" "+l+" ",e}function r(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return o()})}var s=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,c=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,l="-",u=1;if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var p=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),p&&(e.after=e.after.replace(c,r)),n==p)return}var d=1;e.before=e.before.replace(s,function(e){return/^\s*([*+-])/.test(e)&&(l=a.$1),d=/[^\n]\n\n[^\n]/.test(e)?1:0,r(e)}),e.selection||(e.selection=this.getString("litem"));var f=o(),g=1;e.after=e.after.replace(c,function(e){return g=/[^\n]\n\n[^\n]/.test(e)?1:0,r(e)}),e.trimWhitespace(!0),e.skipLines(d,g,!0),e.startTag=f;var m=f.replace(/./g," ");this.wrap(e,i.lineLength-m.length),e.selection=e.selection.replace(/\n/g,"\n"+m)},s.doHeading=function(e){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection=this.getString("headingexample"),e.endTag="",void 0;var t=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=a.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=1==t?2:t-1;if(n>0){for(e.endTag="\n";n--;)e.startTag+="#";e.startTag+=" "}},s.doHorizontalRule=function(e){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)},t.exports=n},{"./ui":31}],15:[function(e,t){"use strict";function n(e,t){function n(e){return u.strings[e]||l[e]}var u=t||{};"function"==typeof u.handler&&(u={helpButton:u}),u.strings=u.strings||{},u.helpButton&&(u.strings.help=u.strings.help||u.helpButton.title);var p,d=o(),f=this;f.run=function(){if(!p){p=new r(e);var t,o=new s(n),l=new c(p,function(){d.emit("refresh")}),f=new i(function(){l.refresh(),t&&t.setUndoRedoButtonStates()},p);t=new a(e,p,f,l,o,u.helpButton,n),t.setUndoRedoButtonStates(),d.refresh=function(){l.refresh(!0)},d.refresh()}},f.api=d}var o=e("contra.emitter"),r=(e("./ui"),e("./util"),e("./position"),e("./PanelCollection")),i=e("./UndoManager"),a=e("./UIManager"),s=e("./CommandManager"),c=e("./PreviewManager"),l={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",help:"Markdown Editing Help",hr:"Horizontal Rule <hr> Ctrl+R",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",litem:"List item",olist:"Numbered List <ol> Ctrl+O",quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",ulist:"Bulleted List <ul> Ctrl+U",undo:"Undo - Ctrl+Z"};t.exports=n},{"./CommandManager":14,"./PanelCollection":16,"./PreviewManager":17,"./UIManager":19,"./UndoManager":20,"./position":26,"./ui":31,"./util":32,"contra.emitter":2}],16:[function(e,t){"use strict";function n(e){this.buttonBar=document.getElementById("pmk-buttons-"+e),this.preview=document.getElementById("pmk-preview-"+e),this.input=document.getElementById("pmk-input-"+e)}t.exports=n},{}],17:[function(e,t){(function(n){"use strict";function o(e,t){var n,o,l,u=3e3,p="delayed",d=function(e,t){a.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,a.addEvent(e,"keypress",t),a.addEvent(e,"keydown",t)},f=function(){var e=0;return window.innerHeight?e=window.pageYOffset:r.documentElement&&r.documentElement.scrollTop?e=r.documentElement.scrollTop:r.body&&(e=r.body.scrollTop),e},g=function(){if(e.preview){var t=e.input.value;if(!t||t!=l){l=t;var n=(new Date).getTime();t=s(t);var r=(new Date).getTime();o=r-n,T(t)}}},m=function(){if(n&&(clearTimeout(n),n=void 0),"manual"!==p){var e=0;"delayed"===p&&(e=o),e>u&&(e=u),n=setTimeout(g,e)}},h=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){e.preview&&(e.preview.scrollTop=(e.preview.scrollHeight-e.preview.clientHeight)*h(e.preview))};this.refresh=function(e){e?(l="",g()):m()},this.processingTime=function(){return o};var w,y=!0,k=function(t){var n=e.preview,o=n.parentNode,r=n.nextSibling;o.removeChild(n),n.innerHTML=t,r?o.insertBefore(n,r):o.appendChild(n)},b=function(t){e.preview.innerHTML=t},x=function(e){if(w)return w(e);try{b(e),w=b}catch(t){w=k,w(e)}},T=function(n){var o=c.getTop(e.input)-f();if(e.preview&&(x(n),t()),v(),y)return y=!1,void 0;var r=c.getTop(e.input)-f();i.isIE?setTimeout(function(){window.scrollBy(0,r-o)},0):window.scrollBy(0,r-o)},E=function(){d(e.input,m),g(),e.preview&&(e.preview.scrollTop=0)};E()}var r=n.document,i=e("./ua"),a=e("./util"),s=e("./parse"),c=e("./position");t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./parse":24,"./position":26,"./ua":30,"./util":32}],18:[function(e,t){(function(n){"use strict";function o(e,t){var n=this,o=e.input;n.init=function(){s.isVisible(o)&&(t||!r.activeElement||r.activeElement===o)&&(n.setInputSelectionStartEnd(),n.scrollTop=o.scrollTop,(!n.text&&o.selectionStart||0===o.selectionStart)&&(n.text=o.value))},n.setInputSelection=function(){if(s.isVisible(o))if(void 0===o.selectionStart||a.isOpera){if(r.selection){if(r.activeElement&&r.activeElement!==o)return;o.focus();var e=o.createTextRange();e.moveStart("character",-o.value.length),e.moveEnd("character",-o.value.length),e.moveEnd("character",n.end),e.moveStart("character",n.start),e.select()}}else o.focus(),o.selectionStart=n.start,o.selectionEnd=n.end,o.scrollTop=n.scrollTop},n.setInputSelectionStartEnd=function(){if(e.ieCachedRange||!o.selectionStart&&0!==o.selectionStart){if(r.selection){n.text=s.fixEolChars(o.value);var t=e.ieCachedRange||r.selection.createRange(),i=s.fixEolChars(t.text),a="",c=a+i+a;t.text=c;var l=s.fixEolChars(o.value);t.moveStart("character",-c.length),t.text=i,n.start=l.indexOf(a),n.end=l.lastIndexOf(a)-a.length;var u=n.text.length-s.fixEolChars(o.value).length;if(u){for(t.moveStart("character",-i.length);u--;)i+="\n",n.end+=1;t.text=i}e.ieCachedRange&&(n.scrollTop=e.ieCachedScrollTop),e.ieCachedRange=null,n.setInputSelection()}}else n.start=o.selectionStart,n.end=o.selectionEnd},n.restore=function(){void 0!=n.text&&n.text!=o.value&&(o.value=n.text),n.setInputSelection(),o.scrollTop=n.scrollTop},n.getChunks=function(){var e=new i;return e.before=s.fixEolChars(n.text.substring(0,n.start)),e.startTag="",e.selection=s.fixEolChars(n.text.substring(n.start,n.end)),e.endTag="",e.after=s.fixEolChars(n.text.substring(n.end)),e.scrollTop=n.scrollTop,e},n.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,n.start=e.before.length,n.end=e.before.length+e.selection.length,n.text=e.before+e.selection+e.after,n.scrollTop=e.scrollTop},n.init()}var r=n.document,i=e("./Chunks"),a=e("./ua"),s=e("./util");t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Chunks":13,"./ua":30,"./util":32}],19:[function(e,t){(function(n){"use strict";function o(e,t,n,o,l,u,p){function d(e){function r(){v.focus(),a&&i.setChunks(a),i.restore(),o.refresh()}if(v.focus(),e.textOp){n&&n.setCommandMode();var i=new c(t);if(!i)return;var a=i.getChunks(),s=e.textOp(a,r);s||r()}e.execute&&e.execute(n)}function f(e,n){var o="0px",i="-20px",s="-40px",c=e.getElementsByTagName("span")[0];n?(e.onmouseover=function(){c.style.backgroundPosition=this.XShift+" "+s},e.onmouseout=function(){c.style.backgroundPosition=this.XShift+" "+o},e.onmouseout(),a.isIE&&(e.onmousedown=function(){r.activeElement&&r.activeElement!==t.input||(t.ieCachedRange=document.selection.createRange(),t.ieCachedScrollTop=t.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),d(this),!1})):(c.style.backgroundPosition=e.XShift+" "+i,e.onmouseover=e.onmouseout=e.onclick=function(){})}function g(e){return"string"==typeof e&&(e=l[e]),function(){e.apply(l,arguments)}}function m(){function n(t,n,o,r){var a=i("li");a.className="pmk-button "+t;var c=i("span");return a.id=t+"-"+e,a.appendChild(c),a.title=n,a.XShift=o,r&&(a.textOp=r),f(a,!0),s.appendChild(a),a}function o(t){var n=i("li");n.className="pmk-spacer pmk-spacer-"+t,n.id="pmk-spacer-"+e+"-"+t,s.appendChild(n)}var r=t.buttonBar,s=i("ul");s.id="pmk-button-row-"+e,s.className="pmk-button-row",s=r.appendChild(s),w.bold=n("pmk-bold-button",p("bold"),"0px",g("doBold")),w.italic=n("pmk-italic-button",p("italic"),"-20px",g("doItalic")),o(1),w.link=n("pmk-link-button",p("link"),"-40px",g(function(e,t){return this.doLinkOrImage(e,t,!1)})),w.quote=n("pmk-quote-button",p("quote"),"-60px",g("doBlockquote")),w.code=n("pmk-code-button",p("code"),"-80px",g("doCode")),w.image=n("pmk-image-button",p("image"),"-100px",g(function(e,t){return this.doLinkOrImage(e,t,!0)})),o(2),w.olist=n("pmk-olist-button",p("olist"),"-120px",g(function(e,t){this.doList(e,t,!0)})),w.ulist=n("pmk-ulist-button",p("ulist"),"-140px",g(function(e,t){this.doList(e,t,!1)})),w.heading=n("pmk-heading-button",p("heading"),"-160px",g("doHeading")),w.hr=n("pmk-hr-button",p("hr"),"-180px",g("doHorizontalRule")),o(3),w.undo=n("pmk-undo-button",p("undo"),"-200px",null),w.undo.execute=function(e){e&&e.undo()};var c=p(a.isWidnows?"redo":"redomac");if(w.redo=n("pmk-redo-button",c,"-220px",null),w.redo.execute=function(e){e&&e.redo()},u){var l=i("li"),d=i("span");l.appendChild(d),l.className="pmk-button pmk-help-button",l.id="pmk-help-button-"+e,l.XShift="-240px",l.isHelp=!0,l.style.right="0px",l.title=p("help"),l.onclick=u.handler,f(l,!0),s.appendChild(l),w.help=l}h()}function h(){n&&(f(w.undo,n.canUndo()),f(w.redo,n.canRedo()))}var v=t.input,w={};m();var y="keydown";a.isOpera&&(y="keypress"),s.addEvent(v,y,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":d(w.bold);break;case"i":d(w.italic);break;case"l":d(w.link);break;case"q":d(w.quote);break;case"k":d(w.code);break;case"g":d(w.image);break;case"o":d(w.olist);break;case"u":d(w.ulist);break;case"h":d(w.heading);break;case"r":d(w.hr);break;case"y":d(w.redo);break;case"z":e.shiftKey?d(w.redo):d(w.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),s.addEvent(v,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var n={};n.textOp=g("doAutoindent"),d(n)}}}),a.isIE&&s.addEvent(v,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0}),this.setUndoRedoButtonStates=h}var r=n.document,i=r.createElement.bind(r),a=e("./ua"),s=e("./util"),c=e("./TextareaState");t.exports=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./TextareaState":18,"./ua":30,"./util":32}],20:[function(e,t){"use strict";function n(e,t){function n(e,t){k!=e&&(k=e,t||s()),o.isIE&&"moving"==k?h=null:m=setTimeout(a,1)}function a(e){h=new i(t,e),m=void 0}function s(){var n=h||new i(t);return n?"moving"==k?(g||(g=n),void 0):(g&&(w[y-1].text!=g.text&&(w[y++]=g),g=null),w[y++]=n,w[y+1]=null,e&&e(),void 0):!1}function c(e){var t=e.charCode||e.keyCode,n=89==t||90==t,o=e.ctrlKey||e.metaKey;o&&n&&e.preventDefault()}function l(e){var t=!1,n=e.charCode||e.keyCode,o=String.fromCharCode(n);if(e.ctrlKey||e.metaKey)switch(o.toLowerCase()){case"y":v.redo(),t=!0;break;case"z":e.shiftKey?v.redo():v.undo(),t=!0}t&&(e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1))}function u(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?n("moving"):8==t||46==t||127==t?n("deleting"):13==t?n("newlines"):27==t?n("escape"):(16>t||t>20)&&91!=t&&n("typing")}}function p(){r.addEvent(t.input,"keypress",c),r.addEvent(t.input,"keydown",l),r.addEvent(t.input,"keydown",u),r.addEvent(t.input,"mousedown",function(){n("moving")}),t.input.onpaste=d,t.input.ondrop=d}function d(){(o.isIE||h&&h.text!=t.input.value)&&void 0==m&&(k="paste",s(),a())}function f(){p(),a(!0),s()}var g,m,h,v=this,w=[],y=0,k="none";v.setCommandMode=function(){k="command",s(),m=setTimeout(a,0)},v.canUndo=function(){return y>1},v.canRedo=function(){return w[y+1]},v.undo=function(){v.canUndo()&&(g?(g.restore(),g=null):(w[y]=new i(t),w[--y].restore(),e&&e())),k="none",t.input.focus(),a()},v.redo=function(){v.canRedo()&&(w[++y].restore(),e&&e()),k="none",t.input.focus(),a()},f()}var o=e("./ua"),r=e("./util"),i=e("./TextareaState");t.exports=n},{"./TextareaState":18,"./ua":30,"./util":32}],21:[function(e,t){"use strict";function n(e){return"string"==typeof e?e.replace(c,"").split(l):e}function o(e){return e.className.replace(c,"").split(l)}function r(e,t){e.className=t.join(" ")}function i(e,t){var o=a(e,t),i=n(t);return o.push.apply(o,i),r(e,o),o}function a(e,t){var i=o(e),a=n(t);return a.forEach(function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}),r(e,i),i}function s(e,t){var r=o(e),i=n(t);return i.every(function(e){return-1!==r.indexOf(e)})}var c=/^\s+|\s+$/g,l=/\s+/g;t.exports={add:i,remove:a,contains:s,set:r,get:o}},{}],22:[function(e,t){"use strict";function n(e){var t=e||{};t.imageUploads&&(n.imageUploads="string"==typeof t.imageUploads?{method:"PUT",url:t.imageUploads,key:"image"}:t.imageUploads),t.markdown&&(n.markdown=t.markdown)}t.exports=n},{}],23:[function(e,t){(function(e){"use strict";var n=e.document;t.exports=function(e,t){var o;n.createEvent?(o=n.createEvent("HTMLEvents"),o.initEvent(t,!0,!0)):(o=n.createEventObject(),o.eventType=t),o.eventName=t,n.createEvent?element.dispatchEvent(o):element.fireEvent("on"+o.eventType,o)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t){"use strict";var n=e("./configure");t.exports=function(e){return n.markdown(e)}},{"./configure":22}],25:[function(e,t){(function(n){"use strict";function o(e){var t,n=l++;return"[object Object]"!==Object.prototype.toString.call(e)&&(e={textarea:e,preview:e}),r(e,n),t=new c(n),t.run(),t.api}function r(e,t){var n=i.createElement("div"),o=i.createElement("div");s.contains(e.textarea,"pmk-input")&&s.add(e.textarea,"pmk-input"),n.id="pmk-buttons-"+t,n.className="pmk-buttons",o.id="pmk-preview-"+t,o.className="pmk-preview",e.textarea.id="pmk-input-"+t,e.textarea.parentElement.insertBefore(n,e.textarea),e.preview.appendChild(o)}var i=n.document,a=(e("./ui"),e("./util"),e("./configure")),s=e("./classes"),c=e("./Editor"),l=0;t.exports=o,o.Editor=c,o.configure=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Editor":15,"./classes":21,"./configure":22,"./ui":31,"./util":32}],26:[function(e,t){(function(e){"use strict";function n(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n}function o(e){return e.offsetHeight||e.scrollHeight}function r(e){return e.offsetWidth||e.scrollWidth}function i(){var e,t,n,o;self.innerHeight&&self.scrollMaxY?(e=a.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):a.body.scrollHeight>a.body.offsetHeight?(e=a.body.scrollWidth,t=a.body.scrollHeight):(e=a.body.offsetWidth,t=a.body.offsetHeight),self.innerHeight?(n=self.innerWidth,o=self.innerHeight):a.documentElement&&a.documentElement.clientHeight?(n=a.documentElement.clientWidth,o=a.documentElement.clientHeight):a.body&&(n=a.body.clientWidth,o=a.body.clientHeight);var r=Math.max(e,n),i=Math.max(t,o);return[r,i,n,o]}var a=e.document;t.exports={getTop:n,getHeight:o,getWidth:r,getPageSize:i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t){"use strict";function n(e){return a&&a.dialog.parentElement.removeChild(a.dialog),a=p({id:"pmk-image-prompt",title:"Insert Image",description:"Type or paste the url to your image",placeholder:'http://example.com/public/doge.png "optional title"'}),r(a,e),a.dialog.classList.add("pmk-prompt-open"),c(o),a.dialog}function o(){a.input.focus()}function r(e,t){u.init(e,t),l.imageUploads&&i(e,t)}function i(e,t){function n(e){e.stopPropagation(),e.preventDefault(),g(e.target.files)
}function o(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}function r(e){e.stopPropagation(),e.preventDefault(),g(e.dataTransfer.files)}function i(e){var t,n,o=/^image\//i;for(m.warning.classList.remove("pmk-prompt-error-show"),t=0;t<e.length;t++)if(n=e[t],o.test(n.type))return n;c()}function c(){m.warning.classList.add("pmk-prompt-error-show")}function u(){m.upload.classList.add(h)}function d(){m.upload.classList.remove(h)}function f(){a.dialog.classList.remove("pmk-prompt-open")}function g(n){function o(n,o,r){if(m.upload.classList.remove("pmk-prompt-uploading"),n)return m.failed.classList.add("pmk-prompt-error-show"),void 0;var i=JSON.parse(r);e.input.value=i.url+' "'+i.alt+'"',f(),t(e.input.value)}var r=i(n);if(r){var a=new FormData,c={"Content-Type":"multipart/form-data",headers:{Accept:"application/json"},method:l.imageUploads.method,url:l.imageUploads.url,body:a};a.append("image",r,r.name),m.upload.classList.add("pmk-prompt-uploading"),s(c,o)}}var m=p.uploads(e),h="pmk-prompt-upload-dragging";document.body.addEventListener("dragenter",u),document.body.addEventListener("dragend",d),m.input.addEventListener("change",n,!1),m.upload.addEventListener("dragover",o,!1),m.upload.addEventListener("drop",r,!1)}{var a,s=e("xhr"),c=e("raf"),l=e("./configure"),u=e("./promptLink"),p=e("./promptRender");e("./fireEvent")}t.exports={draw:n}},{"./configure":22,"./fireEvent":23,"./promptLink":28,"./promptRender":29,raf:4,xhr:6}],28:[function(e,t){"use strict";function n(e){return i&&i.dialog.parentElement.removeChild(i.dialog),i=s({id:"pmk-link-prompt",title:"Insert Link",description:"Type or paste the url to your link",placeholder:'http://example.com/ "optional title"'}),r(i,e),i.dialog.classList.add("pmk-prompt-open"),a(o),i.dialog}function o(){i.input.focus()}function r(e,t){function n(e){var t=e.which||e.keyCode;t===c&&(r(),e.preventDefault())}function o(e){var t=e.which||e.keyCode;t===l&&(i(),e.preventDefault())}function r(){i(),t(e.input.value)}function i(){e.dialog.classList.remove("pmk-prompt-open")}e.cancel.addEventListener("click",i),e.close.addEventListener("click",i),e.ok.addEventListener("click",r),e.input.addEventListener("keypress",n),e.input.addEventListener("keydown",o)}var i,a=e("raf"),s=e("./promptRender"),c=13,l=27;t.exports={draw:n,init:r}},{"./promptRender":29,raf:4}],29:[function(e,t){(function(e){"use strict";function n(e,t,n){var r=o.createElement(e);return r.className=t,n&&(r.innerText=n),r}var o=e.document,r="appendChild";t.exports=function(e){var t={dialog:n("article","pmk-prompt "+e.id),close:n("a","pmk-prompt-close"),header:n("header","pmk-prompt-header"),h1:n("h1","pmk-prompt-title",e.title),section:n("section","pmk-prompt-body"),desc:n("p","pmk-prompt-description",e.description),input:n("input","pmk-prompt-input"),cancel:n("a","pmk-prompt-cancel","Cancel"),ok:n("button","pmk-prompt-ok","Ok"),footer:n("footer","pmk-prompt-buttons")};return t.header[r](t.h1),t.section[r](t.desc),t.section[r](t.input),t.input.placeholder=e.placeholder,t.footer[r](t.cancel),t.footer[r](t.ok),t.dialog[r](t.close),t.dialog[r](t.header),t.dialog[r](t.section),t.dialog[r](t.footer),o.body[r](t.dialog),t},t.exports.uploads=function(e){var t="pmk-prompt-fileupload",o={area:n("section","pmk-prompt-upload-area"),warning:n("p","pmk-prompt-error pmk-warning","Only GIF, JPEG and PNG images are allowed"),failed:n("p","pmk-prompt-error pmk-failed","Upload failed"),upload:n("button","pmk-prompt-upload"),uploading:n("span","pmk-prompt-progress","Uploading file..."),drop:n("span","pmk-prompt-drop","Drop here to begin upload"),browse:n("span","pmk-prompt-browse","Browse..."),dragdrop:n("span","pmk-prompt-dragdrop","You can also drop files here"),input:n("input",t)};return o.area[r](o.warning),o.area[r](o.failed),o.area[r](o.upload),o.upload[r](o.drop),o.upload[r](o.uploading),o.upload[r](o.browse),o.upload[r](o.dragdrop),o.upload[r](o.input),o.input.id=t,o.input.type="file",e.section[r](o.area),e.up=o,o}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t){"use strict";var n=window.navigator,o=n.userAgent.toLowerCase(),r={isIE:/msie/.test(o),isIE_5or6:/msie [56]/.test(o),isOpera:/opera/.test(o),isChrome:/chrome/.test(o),isWindows:/win/i.test(n.platform)};t.exports=r},{}],31:[function(e,t){"use strict";function n(e,t){function n(e){null!==e&&(e=e.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),"/"===e[0]||/^(?:https?|ftp):\/\//.test(e)||(e="http://"+e)),t(e)}o&&o.classList.remove("pmk-prompt-open"),r&&r.classList.remove("pmk-prompt-open"),"link"===e?o=i.draw(n):"image"===e&&(r=a.draw(n))}var o,r,i=e("./promptLink"),a=e("./promptImage");t.exports={prompt:n}},{"./promptImage":27,"./promptLink":28}],32:[function(e,t){"use strict";function n(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0}function o(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function r(e,t,n,o){function r(e){function n(){o.apply(r,a)}var r=this,a=arguments,s=e.target;s.classList?s.classList.contains(t)&&n():s.className.match(i)&&n()}var i=new RegExp("\b"+t+"\b");e.attachEvent?e.attachEvent("on"+n,r):e.addEventListener(n,r,!1)}function i(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)}function a(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")}function s(e,t,n){(null===t||void 0===t)&&(t=""),(null===n||void 0===n)&&(n="");var o,r=e.toString();return r=r.replace(/\/([gim]*)$/,function(e,t){return o=t,""}),r=r.replace(/(^\/|\/$)/g,""),r=t+r+n,new RegExp(r,o)}t.exports={isVisible:n,addEvent:o,addEventDelegate:r,removeEvent:i,fixEolChars:a,extendRegExp:s}},{}]},{},[25])(25)});